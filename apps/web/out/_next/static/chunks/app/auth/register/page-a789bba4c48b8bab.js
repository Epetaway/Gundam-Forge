(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454,716],{5988:function(e,r,t){Promise.resolve().then(t.bind(t,8248))},8248:function(e,r,t){"use strict";t.d(r,{AuthForm:function(){return b}});var s=t(7573),a=t(7653),n=t(8146),i=t(1695),o=t(590),l=t(7739),d=t(8962),u=t(8664),c=t(4859);let f=c.env.NEXT_PUBLIC_SUPABASE_URL,m=c.env.NEXT_PUBLIC_SUPABASE_ANON_KEY,p=!!(f&&m),x=p?(0,u.eI)(f,m):null;function b(e){let{mode:r}=e,t=(0,i.useRouter)(),[u,c]=a.useState(""),[f,m]=a.useState(""),[b,g]=a.useState(""),[h,v]=a.useState(""),[w,N]=a.useState(""),[y,j]=a.useState(!1),C="login"===r,S=async e=>{if(e.preventDefault(),v(""),N(""),!C&&f!==b){v("Passwords do not match.");return}if(!p||!x){N("Supabase credentials are not configured. Auth forms are operating in preview mode.");return}j(!0);try{if(C){let{error:e}=await x.auth.signInWithPassword({email:u,password:f});if(e){v(e.message);return}}else{let{error:e}=await x.auth.signUp({email:u,password:f});if(e){v(e.message);return}N("Account created. Check your email for confirmation.")}t.push("/profile")}finally{j(!1)}};return(0,s.jsxs)(l.Zb,{className:"mx-auto w-full max-w-md",children:[(0,s.jsxs)(l.Ol,{children:[(0,s.jsx)(l.ll,{children:C?"Sign in":"Create account"}),(0,s.jsx)(l.SZ,{children:C?"Access saved builds and profile analytics.":"Register to persist decks and share links."})]}),(0,s.jsxs)(l.aY,{className:"space-y-4",children:[(0,s.jsxs)("form",{className:"space-y-4",onSubmit:S,children:[(0,s.jsx)(d.I,{autoComplete:"email",id:"auth-email",label:"Email",onChange:e=>c(e.target.value),required:!0,type:"email",value:u}),(0,s.jsx)(d.I,{autoComplete:C?"current-password":"new-password",id:"auth-password",label:"Password",minLength:8,onChange:e=>m(e.target.value),required:!0,type:"password",value:f}),C?null:(0,s.jsx)(d.I,{autoComplete:"new-password",id:"auth-confirm-password",label:"Confirm password",minLength:8,onChange:e=>g(e.target.value),required:!0,type:"password",value:b}),h?(0,s.jsx)("p",{className:"rounded-md border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700",role:"alert",children:h}):null,w?(0,s.jsx)("p",{"aria-live":"polite",className:"rounded-md border border-cobalt-200 bg-cobalt-50 px-3 py-2 text-sm text-cobalt-700",children:w}):null,(0,s.jsx)(o.z,{className:"w-full",disabled:y,type:"submit",children:y?"Working...":C?"Sign in":"Create account"})]}),(0,s.jsxs)("p",{className:"text-sm text-steel-600",children:[C?"Need an account?":"Already registered?"," ",(0,s.jsx)(n.default,{className:"font-medium text-cobalt-600 hover:text-cobalt-700",href:C?"/auth/register":"/auth/login",children:C?"Register":"Sign in"})]})]})]})}},590:function(e,r,t){"use strict";t.d(r,{z:function(){return d}});var s=t(7573),a=t(7653),n=t(8828),i=t(9289),o=t(4057);let l=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-all outline-none ring-offset-surface focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{primary:"bg-accent text-accent-foreground shadow-sm hover:bg-cobalt-600",secondary:"border border-border bg-surface text-foreground shadow-sm hover:bg-steel-100",ghost:"text-foreground hover:bg-steel-100",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-red-600"},size:{sm:"h-8 px-3 text-xs",md:"h-10 px-4",lg:"h-11 px-6 text-base",icon:"h-9 w-9"}},defaultVariants:{variant:"primary",size:"md"}}),d=a.forwardRef((e,r)=>{let{className:t,variant:a,size:i,asChild:d=!1,...u}=e,c=d?n.g7:"button";return(0,s.jsx)(c,{className:(0,o.cn)(l({variant:a,size:i,className:t})),ref:r,...u})});d.displayName="Button"},7739:function(e,r,t){"use strict";t.d(r,{Ol:function(){return o},SZ:function(){return d},Zb:function(){return i},aY:function(){return u},ll:function(){return l}});var s=t(7573),a=t(7653),n=t(4057);let i=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)("rounded-xl border border-border bg-surface shadow-sm",t),ref:r,...a})});i.displayName="Card";let o=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)("flex flex-col gap-1 border-b border-border px-5 py-4",t),ref:r,...a})});o.displayName="CardHeader";let l=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("h3",{className:(0,n.cn)("font-display text-lg font-semibold tracking-tight text-foreground",t),ref:r,...a})});l.displayName="CardTitle";let d=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("p",{className:(0,n.cn)("text-sm text-steel-600",t),ref:r,...a})});d.displayName="CardDescription";let u=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)("px-5 py-4",t),ref:r,...a})});u.displayName="CardContent"},8962:function(e,r,t){"use strict";t.d(r,{I:function(){return i}});var s=t(7573),a=t(7653),n=t(4057);let i=a.forwardRef((e,r)=>{var t;let{className:a,label:i,description:o,error:l,id:d,...u}=e,c=null!==(t=null!=d?d:u.name)&&void 0!==t?t:"input-field",f=l?"".concat(c,"-error"):o?"".concat(c,"-description"):void 0;return(0,s.jsxs)("div",{className:"grid gap-2",children:[i?(0,s.jsx)("label",{className:"text-sm font-medium text-foreground",htmlFor:c,children:i}):null,(0,s.jsx)("input",{"aria-describedby":f,"aria-invalid":!!l,className:(0,n.cn)("h-10 w-full rounded-md border border-border bg-surface px-3 text-sm text-foreground shadow-sm outline-none transition-colors placeholder:text-steel-500 focus-visible:border-ring focus-visible:ring-2 focus-visible:ring-ring/20 disabled:cursor-not-allowed disabled:opacity-50",l&&"border-destructive focus-visible:border-destructive focus-visible:ring-destructive/20",a),id:c,ref:r,...u}),o&&!l?(0,s.jsx)("p",{className:"text-xs text-steel-600",id:"".concat(c,"-description"),children:o}):null,l?(0,s.jsx)("p",{className:"text-xs text-destructive",id:"".concat(c,"-error"),role:"alert",children:l}):null]})});i.displayName="Input"},4057:function(e,r,t){"use strict";t.d(r,{cn:function(){return n}});var s=t(607),a=t(5579);let n=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.m6)((0,s.W)(r))}}},function(e){e.O(0,[340,619,807,293,528,744],function(){return e(e.s=5988)}),_N_E=e.O()}]);