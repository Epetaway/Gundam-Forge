(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[634],{7539:function(e,t,a){Promise.resolve().then(a.bind(a,6789))},6789:function(e,t,a){"use strict";a.d(t,{ForgeWorkbench:function(){return J}});var r=a(7573),s=a(7653),n=a(3182),i=a(8333),l=a(3172),d=a(997),c=a(1856);[{id:"resource-deck",label:"Res. Deck",xPercent:1.5,yPercent:3,widthPercent:11,heightPercent:42},{id:"deck",label:"Deck",xPercent:1.5,yPercent:53,widthPercent:11,heightPercent:42},{id:"battle",label:"Battle Area",xPercent:14.5,yPercent:3,widthPercent:56,heightPercent:42},{id:"resource",label:"Resources",xPercent:14.5,yPercent:53,widthPercent:56,heightPercent:42},{id:"shields",label:"Shields",xPercent:72.5,yPercent:3,widthPercent:13,heightPercent:56},{id:"base",label:"Base",xPercent:72.5,yPercent:62,widthPercent:13,heightPercent:33},{id:"trash",label:"Trash",xPercent:87.5,yPercent:3,widthPercent:11,heightPercent:42},{id:"removal",label:"Removed",xPercent:87.5,yPercent:53,widthPercent:11,heightPercent:42}].map(e=>e.id);let o=function(e,t){var a,r,s,n,i;let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},d=new Map(t.map(e=>[e.id,e])),c=e.map(e=>({cardId:e.cardId,qty:Math.max(0,Math.floor(e.qty))})).filter(e=>e.cardId.trim().length>0&&e.qty>0),o={Unit:0,Pilot:0,Command:0,Base:0,Resource:0},u={},m={},f={},x=new Set,p=new Set,h=0,b=0,g=0;for(let e of c){h+=e.qty,f[e.cardId]=(null!==(a=f[e.cardId])&&void 0!==a?a:0)+e.qty;let t=d.get(e.cardId);if(!t){x.add(e.cardId);continue}"Resource"===t.type?g+=e.qty:(b+=e.qty,p.add(t.color),m[t.color]=(null!==(r=m[t.color])&&void 0!==r?r:0)+e.qty,u[t.cost]=(null!==(s=u[t.cost])&&void 0!==s?s:0)+e.qty),o[t.type]=(null!==(n=o[t.type])&&void 0!==n?n:0)+e.qty}let y=[],v=[];50!==b&&y.push("Main deck must contain exactly ".concat(50," cards (currently ").concat(b,").")),10!==g&&y.push("Resource deck must contain exactly ".concat(10," cards (currently ").concat(g,")."));let j=[...p].sort(),N=j.filter(e=>"Colorless"!==e);N.length>2&&y.push("Deck can contain at most ".concat(2," colors excluding Colorless (currently ").concat(N.join(", "),").")),x.size>0&&y.push("Unknown card IDs found: ".concat([...x].sort().join(", "),"."));let w=null!==(i=l.maxCopiesPerCard)&&void 0!==i?i:4;for(let[e,t]of Object.entries(f))t>w&&y.push("Card ".concat(e," exceeds max copies (").concat(t,"/").concat(w,")."));if(b>0&&o.Unit<15?v.push("Consider adding more Unit cards (currently ".concat(o.Unit,", recommend 15 minimum, 25-28 optimal).")):b>0&&o.Unit<25&&v.push("Unit count is low (".concat(o.Unit,"). Optimal range is 25-28 Unit cards.")),b>0&&o.Pilot<6?v.push("Consider adding more Pilot cards (currently ".concat(o.Pilot,", recommend 6-8 for consistent attachments).")):b>0&&o.Pilot>8&&v.push("High Pilot count (".concat(o.Pilot,"). Consider reducing to 6-8 to avoid dead draws.")),b>0){let e=Object.entries(u).reduce((e,t)=>{let[a,r]=t;return e+parseInt(a)*r},0)/b;e>4.5&&v.push("Average card cost is high (".concat(e.toFixed(1),"). Consider adding lower-cost cards."))}return{isValid:0===y.length,errors:y,warnings:v,metrics:{totalCards:h,mainDeckCards:b,resourceDeckCards:g,unknownCardIds:[...x].sort(),colorsUsed:j,colorCounts:m,typeCounts:o,costCurve:u,cardCopies:f}}};var u=a(8204);let m=u.Km(["Common","Uncommon","Rare","Special Rare","Promo"]),f=u.Km(["Newtype","Zeon","Federation","EFSF","Mobile-Suit","Mobile-Armor","Pilot","Commander","Support","Draw","Control","Aggro","Combo","Token","Legendary","Wing-Gundam","Gundam-Seed","Gundam-00","Gundam-IBO","UC-Era","Psycho-Frame","GN-Drive","Multiple-Copies","Precision","Resilience","Power","Defense"]),x=u.Km(["bandai-official","bandai-set-release","community-wiki","authorized-app","artbook","imported-legacy"]),p=u.Ry({id:u.Z_().min(1).regex(/^[A-Z]{2,3}-\d{3,4}$/,"Card ID must match format: XX-000 or XXX-0000").describe("Unique card ID (e.g., GD-001, SEED-0025)"),name:u.Z_().min(1).max(256).describe("Card name (English)"),nameJP:u.Z_().optional().describe("Card name (Japanese) if different"),cost:u.Rx().int().min(0).max(15).describe("Play cost (0-15)"),color:u.Km(["Blue","Green","Red","White","Purple","Colorless"]).describe("Primary color"),type:u.Km(["Unit","Pilot","Command","Base","Resource"]).describe("Card type: Unit, Pilot, Command, Base, or Resource"),text:u.Z_().describe("Card effect text (English)"),textJP:u.Z_().optional().describe("Card effect text (Japanese) if different"),power:u.Rx().int().min(0).max(20).nullable().default(null).describe("Power value (Units only; null for non-Units)"),setCode:u.Z_().min(1).regex(/^[A-Z]+-\d+$/,"Set code format: XX-0 (e.g., SEED-1, UC-2)").describe("Set identifier (e.g., SEED-1, UC-2)"),setName:u.Z_().min(1).describe('Human-readable set name (e.g., "Gundam Seed Starter")'),releaseDate:u.Z_().date().describe("Set release date (ISO 8601: YYYY-MM-DD)"),artUrl:u.Z_().url().describe("High-res card art URL (CDN only, no local paths)"),rarity:m.describe("Card rarity level"),artUrlThumb:u.Z_().url().optional().describe("Thumbnail/preview art URL"),illustrator:u.Z_().optional().describe("Card illustrator name"),legal:u.O7().default(!0).describe("Tournament legal flag"),bannedDate:u.Z_().date().optional().describe("If banned, the effective date (ISO 8601)"),ruling:u.Z_().optional().describe("Official ruling text (short clarification if needed)"),rulingUrl:u.Z_().url().optional().describe("Link to full ruling document"),errata:u.Z_().optional().describe("Errata notice (if card was changed after printing)"),tags:u.IX(f).default([]).describe("Archetype/mechanic tags for deck building"),source:x.describe("Data source for audit trail"),sourceUrl:u.Z_().url().optional().describe("URL reference for data source"),lastUpdated:u.Z_().datetime().describe("Last update timestamp (ISO 8601 with time)"),internal:u.Ry({validated:u.O7().default(!1),checksumArt:u.Z_().optional().describe("MD5/SHA256 of art file"),checksumData:u.Z_().optional().describe("Checksum of card data for change detection")}).optional()});u.Ry({version:u.Z_().describe("Schema version (e.g., 1.0.0)"),timestamp:u.Z_().datetime(),source:x,cards:u.IX(p),changelog:u.Ry({added:u.Rx().default(0),updated:u.Rx().default(0),deleted:u.Rx().default(0),notes:u.Z_().optional()}).optional()}),u.Ry({valid:u.O7(),cardId:u.Z_(),errors:u.IX(u.Z_()).default([]),warnings:u.IX(u.Z_()).default([]),timestamp:u.Z_().datetime()}),new Date().toISOString();new Date().toISOString(),({"bandai-official-api":{name:"Bandai Official TCG API",type:"api",reliability:"official",url:"https://bandai.official/gundam-tcg/api/v1/cards",updateFrequency:"weekly",rateLimitPerSecond:1,description:"Official REST API for all Gundam TCG cards, sets, and rulings. Preferred data source. Requires API key.",formats:"json",notes:"Contact Bandai licensing for API access. Includes card metadata, images, and official rulings.",lastValidated:"2024-02-20"},"bandai-set-releases":{name:"Bandai Official Set Release Pages",type:"website",reliability:"official",url:"https://bandai.official/gundam-tcg/sets",updateFrequency:"as-needed",rateLimitPerSecond:.5,description:"Official set announcement pages with checklists, card galleries, and release info.",formats:"html",notes:"Can be scraped (robots.txt allows bots with rate limiting). Contains official set codes, rarities, and art.",lastValidated:"2024-02-20"},"bandai-official-pdfs":{name:"Bandai Official PDF Checklists",type:"pdf",reliability:"official",url:"https://bandai.official/gundam-tcg/resources/checklists",updateFrequency:"monthly",description:"Downloadable PDF checklists for each set with full card listings.",formats:"pdf",notes:"Use Puppeteer to extract structured data. May require OCR for older PDFs.",lastValidated:"2024-02-20"},"bandai-rulings-database":{name:"Bandai Official Rulings Database",type:"website",reliability:"official",url:"https://bandai.official/gundam-tcg/rulings",updateFrequency:"as-needed",description:"Official rulings, clarifications, and FAQs for card effects.",formats:"html",notes:"URL per card ID: https://bandai.official/gundam-tcg/rulings/{cardId}",lastValidated:"2024-02-20"}})["bandai-official-api"].name,new Date().toISOString();var h=a(7905),b=a(269),g=a(4057);let y=h.fC;h.xz;let v=h.h_;h.x8;let j=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(h.aV,{className:(0,g.cn)("fixed inset-0 z-50 bg-steel-900/55 backdrop-blur-sm data-[state=closed]:animate-fade-out data-[state=open]:animate-fade-in",a),ref:t,...s})});j.displayName=h.aV.displayName;let N=s.forwardRef((e,t)=>{let{className:a,children:s,...n}=e;return(0,r.jsxs)(v,{children:[(0,r.jsx)(j,{}),(0,r.jsxs)(h.VY,{className:(0,g.cn)("fixed left-1/2 top-1/2 z-50 grid w-[calc(100%-2rem)] max-w-2xl -translate-x-1/2 -translate-y-1/2 gap-4 rounded-xl border border-border bg-surface p-6 shadow-lg duration-normal data-[state=closed]:animate-zoom-out data-[state=open]:animate-zoom-in",a),ref:t,...n,children:[s,(0,r.jsxs)(h.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-surface transition-opacity hover:opacity-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[(0,r.jsx)(b.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});N.displayName=h.VY.displayName;let w=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,g.cn)("flex flex-col space-y-2 text-left",t),...a})},C=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(h.Dx,{className:(0,g.cn)("font-display text-lg font-semibold",a),ref:t,...s})});C.displayName=h.Dx.displayName;let P=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(h.dk,{className:(0,g.cn)("text-sm text-steel-600",a),ref:t,...s})});P.displayName=h.dk.displayName;var R=a(4448),k=a(7400),S=a(590),Z=a(7739),_=a(8962),I=a(1395),D=a(8983),U=a(7354);let O=I.fC;I.ZA;let z=I.B4,V=s.forwardRef((e,t)=>{let{className:a,children:s,...n}=e;return(0,r.jsxs)(I.xz,{className:(0,g.cn)("flex h-10 w-full items-center justify-between rounded-md border border-border bg-surface px-3 py-2 text-sm text-foreground shadow-sm outline-none ring-offset-surface placeholder:text-steel-500 focus:ring-2 focus:ring-ring/20 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...n,children:[s,(0,r.jsx)(I.JO,{asChild:!0,children:(0,r.jsx)(D.Z,{className:"h-4 w-4 text-steel-500"})})]})});V.displayName=I.xz.displayName;let A=s.forwardRef((e,t)=>{let{className:a,children:s,position:n="popper",...i}=e;return(0,r.jsx)(I.h_,{children:(0,r.jsx)(I.VY,{className:(0,g.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-border bg-surface text-foreground shadow-md data-[state=closed]:animate-fade-out data-[state=open]:animate-fade-in","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:n,ref:t,...i,children:(0,r.jsx)(I.l_,{className:"p-1",children:s})})})});A.displayName=I.VY.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(I.__,{className:(0,g.cn)("px-2 py-1.5 text-xs font-semibold text-steel-600",a),ref:t,...s})}).displayName=I.__.displayName;let q=s.forwardRef((e,t)=>{let{className:a,children:s,...n}=e;return(0,r.jsxs)(I.ck,{className:(0,g.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-2 pl-8 pr-2 text-sm outline-none focus:bg-steel-100 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),ref:t,...n,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(I.wU,{children:(0,r.jsx)(U.Z,{className:"h-4 w-4"})})}),(0,r.jsx)(I.eT,{children:s})]})});q.displayName=I.ck.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(I.Z0,{className:(0,g.cn)("-mx-1 my-1 h-px bg-border",a),ref:t,...s})}).displayName=I.Z0.displayName;var F=a(3753),E=a(3098);let M=E.zt,Y=E.fC,B=E.xz,T=s.forwardRef((e,t)=>{let{className:a,sideOffset:s=6,...n}=e;return(0,r.jsx)(E.VY,{className:(0,g.cn)("z-50 overflow-hidden rounded-md bg-steel-900 px-3 py-1.5 text-xs text-white shadow-md animate-fade-in",a),ref:t,sideOffset:s,...n})});T.displayName=E.VY.displayName;let X="gundam-forge-next-deck",G=["All","Blue","Green","Red","White","Purple","Colorless"],L=["All","Unit","Pilot","Command","Base","Resource"];function J(e){var t;let{cards:a}=e,[u,m]=s.useState(""),[f,x]=s.useState("All"),[p,h]=s.useState("All"),[b,v]=s.useState({}),[j,I]=s.useState(null),[D,U]=s.useState("");s.useEffect(()=>{try{let e=localStorage.getItem(X);if(!e)return;let t=JSON.parse(e);v(t)}catch(e){v({})}},[]),s.useEffect(()=>{try{localStorage.setItem(X,JSON.stringify(b))}catch(e){}},[b]);let E=s.useMemo(()=>new Map(a.map(e=>[e.id,e])),[a]),J=s.useMemo(()=>{let e=u.trim().toLowerCase();return a.filter(t=>("All"===f||t.color===f)&&("All"===p||t.type===p)&&(!e||"".concat(t.id," ").concat(t.name).toLowerCase().includes(e)))},[a,f,p,u]),W=s.useMemo(()=>Object.entries(b).filter(e=>e[1]>0).map(e=>{let[t,a]=e;return{cardId:t,qty:a}}),[b]),H=s.useMemo(()=>W.map(e=>({...e,card:E.get(e.cardId)})).filter(e=>e.card).sort((e,t)=>{var a,r,s,n;return(null!==(s=null===(a=e.card)||void 0===a?void 0:a.cost)&&void 0!==s?s:0)-(null!==(n=null===(r=t.card)||void 0===r?void 0:r.cost)&&void 0!==n?n:0)}),[E,W]),K=s.useMemo(()=>o(W,a),[a,W]),Q=j?E.get(j):void 0,$=e=>{v(t=>{var a;return{...t,[e]:Math.min((null!==(a=t[e])&&void 0!==a?a:0)+1,4)}})},ee=e=>{v(t=>{var a;let r={...t},s=(null!==(a=r[e])&&void 0!==a?a:0)-1;return s<=0?delete r[e]:r[e]=s,r})},et=s.useCallback(async e=>{let t=H.map(e=>({qty:e.qty,id:e.card.id,name:e.card.name,type:e.card.type,color:e.card.color})),a="json"===e?JSON.stringify(t,null,2):"csv"===e?["Qty,ID,Name,Type,Color",...t.map(e=>"".concat(e.qty,",").concat(e.id,',"').concat(e.name,'",').concat(e.type,",").concat(e.color))].join("\n"):t.map(e=>"".concat(e.qty,"x ").concat(e.name," (").concat(e.id,")")).join("\n");try{await navigator.clipboard.writeText(a),U("Copied ".concat(e.toUpperCase()," to clipboard")),window.setTimeout(()=>U(""),1400)}catch(e){U("Clipboard unavailable")}},[H]);return(0,r.jsxs)(M,{delayDuration:120,children:[(0,r.jsxs)("div",{className:"grid gap-6 xl:grid-cols-forge",children:[(0,r.jsxs)(Z.Zb,{className:"overflow-hidden",children:[(0,r.jsxs)(Z.Ol,{className:"space-y-3",children:[(0,r.jsxs)(Z.ll,{className:"flex items-center gap-2 text-base",children:[(0,r.jsx)(n.Z,{className:"h-4 w-4 text-steel-500"}),"Card Catalog"]}),(0,r.jsxs)("div",{className:"grid gap-2 md:grid-cols-3",children:[(0,r.jsx)(_.I,{"aria-label":"Search cards",className:"md:col-span-2",onChange:e=>m(e.target.value),placeholder:"Search by name or card ID",value:u}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsxs)(O,{onValueChange:e=>x(e),value:f,children:[(0,r.jsx)(V,{"aria-label":"Filter by color",children:(0,r.jsx)(z,{placeholder:"Color"})}),(0,r.jsx)(A,{children:G.map(e=>(0,r.jsx)(q,{value:e,children:e},e))})]}),(0,r.jsxs)(O,{onValueChange:e=>h(e),value:p,children:[(0,r.jsx)(V,{"aria-label":"Filter by type",children:(0,r.jsx)(z,{placeholder:"Type"})}),(0,r.jsx)(A,{children:L.map(e=>(0,r.jsx)(q,{value:e,children:e},e))})]})]})]})]}),(0,r.jsx)(Z.aY,{className:"max-h-[68vh] overflow-y-auto p-2",children:(0,r.jsx)("ul",{className:"space-y-1",role:"list",children:J.slice(0,320).map(e=>{var t;let a=null!==(t=b[e.id])&&void 0!==t?t:0;return(0,r.jsxs)("li",{className:(0,g.cn)("grid grid-cols-[1fr_auto] items-center rounded-md border border-transparent px-3 py-2 transition-colors",a>0?"bg-cobalt-400/10":"hover:border-border hover:bg-steel-50"),children:[(0,r.jsxs)("button",{className:"text-left",onClick:()=>I(e.id),type:"button",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-foreground",children:e.name}),(0,r.jsxs)("p",{className:"text-xs text-steel-600",children:[e.id," • ",e.color," • ",e.type," • Cost ",e.cost]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsxs)(Y,{children:[(0,r.jsx)(B,{asChild:!0,children:(0,r.jsx)(S.z,{"aria-label":"Inspect ".concat(e.name),onClick:()=>I(e.id),size:"icon",variant:"ghost",children:(0,r.jsx)(i.Z,{className:"h-4 w-4"})})}),(0,r.jsx)(T,{children:"Inspect card"})]}),(0,r.jsxs)(Y,{children:[(0,r.jsx)(B,{asChild:!0,children:(0,r.jsx)(S.z,{"aria-label":"Add ".concat(e.name),onClick:()=>$(e.id),size:"icon",variant:"secondary",children:(0,r.jsx)(l.Z,{className:"h-4 w-4"})})}),(0,r.jsx)(T,{children:"Add to deck"})]}),a>0?(0,r.jsxs)(k.C,{variant:"accent",children:[a,"x"]}):null]})]},e.id)})})})]}),(0,r.jsxs)(Z.Zb,{children:[(0,r.jsxs)(Z.Ol,{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,r.jsx)(Z.ll,{className:"text-base",children:"Deck Assembly"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(R.h_,{children:[(0,r.jsx)(R.$F,{asChild:!0,children:(0,r.jsx)(S.z,{size:"sm",variant:"secondary",children:"Export"})}),(0,r.jsxs)(R.AW,{align:"end",children:[(0,r.jsx)(R.Xi,{onSelect:()=>et("text"),children:"Plain Text"}),(0,r.jsx)(R.Xi,{onSelect:()=>et("csv"),children:"CSV"}),(0,r.jsx)(R.Xi,{onSelect:()=>et("json"),children:"JSON"})]})]}),(0,r.jsxs)(S.z,{onClick:()=>v({}),size:"sm",variant:"ghost",children:[(0,r.jsx)(d.Z,{className:"mr-1 h-4 w-4"}),"Clear"]})]})]}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-xs text-steel-600",children:[(0,r.jsx)(k.C,{variant:K.isValid?"success":"warning",children:K.isValid?"Valid Deck":"".concat(K.errors.length," Rules Violations")}),(0,r.jsxs)("span",{children:[K.metrics.totalCards," cards total"]}),(0,r.jsx)("span",{children:"•"}),(0,r.jsxs)("span",{children:[K.metrics.mainDeckCards,"/50 main"]}),(0,r.jsx)("span",{children:"•"}),(0,r.jsxs)("span",{children:[K.metrics.resourceDeckCards,"/10 resource"]})]}),D?(0,r.jsxs)("p",{className:"flex items-center gap-2 text-xs text-success",children:[(0,r.jsx)(c.Z,{className:"h-3 w-3"}),D]}):null]}),(0,r.jsx)(Z.aY,{children:(0,r.jsxs)(F.mQ,{defaultValue:"deck",children:[(0,r.jsxs)(F.dr,{children:[(0,r.jsx)(F.SP,{value:"deck",children:"Deck List"}),(0,r.jsx)(F.SP,{value:"validation",children:"Validation"})]}),(0,r.jsx)(F.nU,{value:"deck",children:(0,r.jsx)("div",{className:"max-h-[52vh] overflow-y-auto",children:0===H.length?(0,r.jsx)("p",{className:"rounded-md border border-dashed border-border p-6 text-center text-sm text-steel-600",children:"Start adding cards from the catalog."}):(0,r.jsx)("ul",{className:"space-y-2",role:"list",children:H.map(e=>{var t,a,s,n;return(0,r.jsxs)("li",{className:"flex items-center justify-between rounded-md border border-border bg-steel-50 px-3 py-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium",children:null===(t=e.card)||void 0===t?void 0:t.name}),(0,r.jsxs)("p",{className:"text-xs text-steel-600",children:[null===(a=e.card)||void 0===a?void 0:a.id," • ",null===(s=e.card)||void 0===s?void 0:s.type]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(k.C,{children:[e.qty,"x"]}),(0,r.jsx)(S.z,{"aria-label":"Remove ".concat(null===(n=e.card)||void 0===n?void 0:n.name),onClick:()=>ee(e.cardId),size:"icon",variant:"ghost",children:(0,r.jsx)(d.Z,{className:"h-4 w-4"})})]})]},e.cardId)})})})}),(0,r.jsxs)(F.nU,{value:"validation",className:"space-y-3",children:[0===K.errors.length?(0,r.jsx)("p",{className:"rounded-md border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-700",children:"No rule violations found."}):(0,r.jsx)("ul",{className:"space-y-2",children:K.errors.map(e=>(0,r.jsx)("li",{className:"rounded-md border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700",children:e},e))}),K.warnings.length>0?(0,r.jsx)("ul",{className:"space-y-2",children:K.warnings.map(e=>(0,r.jsx)("li",{className:"rounded-md border border-amber-200 bg-amber-50 px-3 py-2 text-sm text-amber-700",children:e},e))}):null]})]})})]})]}),(0,r.jsx)(y,{onOpenChange:e=>!e&&I(null),open:!!Q,children:(0,r.jsxs)(N,{"aria-describedby":"forge-card-details",children:[(0,r.jsxs)(w,{children:[(0,r.jsx)(C,{children:null==Q?void 0:Q.name}),(0,r.jsxs)(P,{id:"forge-card-details",children:[null==Q?void 0:Q.id," • ",null==Q?void 0:Q.color," • ",null==Q?void 0:Q.type," • Cost ",null==Q?void 0:Q.cost]})]}),(0,r.jsx)("p",{className:"text-sm text-steel-700",children:null!==(t=null==Q?void 0:Q.text)&&void 0!==t?t:"No rules text for this entry."}),(0,r.jsx)("div",{className:"flex justify-end",children:Q?(0,r.jsxs)(S.z,{onClick:()=>$(Q.id),children:[(0,r.jsx)(l.Z,{className:"mr-1 h-4 w-4"}),"Add to deck"]}):null})]})})]})}},7400:function(e,t,a){"use strict";a.d(t,{C:function(){return l}});var r=a(7573);a(7653);var s=a(9289),n=a(4057);let i=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-[11px] font-semibold uppercase tracking-wide",{variants:{variant:{default:"border-border bg-steel-100 text-steel-700",accent:"border-cobalt-400/40 bg-cobalt-400/10 text-cobalt-700",success:"border-emerald-300 bg-emerald-50 text-emerald-700",warning:"border-amber-300 bg-amber-50 text-amber-700",destructive:"border-red-300 bg-red-50 text-red-700"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:a,...s}=e;return(0,r.jsx)("div",{className:(0,n.cn)(i({variant:a}),t),...s})}},590:function(e,t,a){"use strict";a.d(t,{z:function(){return c}});var r=a(7573),s=a(7653),n=a(8828),i=a(9289),l=a(4057);let d=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-all outline-none ring-offset-surface focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{primary:"bg-accent text-accent-foreground shadow-sm hover:bg-cobalt-600",secondary:"border border-border bg-surface text-foreground shadow-sm hover:bg-steel-100",ghost:"text-foreground hover:bg-steel-100",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-red-600"},size:{sm:"h-8 px-3 text-xs",md:"h-10 px-4",lg:"h-11 px-6 text-base",icon:"h-9 w-9"}},defaultVariants:{variant:"primary",size:"md"}}),c=s.forwardRef((e,t)=>{let{className:a,variant:s,size:i,asChild:c=!1,...o}=e,u=c?n.g7:"button";return(0,r.jsx)(u,{className:(0,l.cn)(d({variant:s,size:i,className:a})),ref:t,...o})});c.displayName="Button"},7739:function(e,t,a){"use strict";a.d(t,{Ol:function(){return l},SZ:function(){return c},Zb:function(){return i},aY:function(){return o},ll:function(){return d}});var r=a(7573),s=a(7653),n=a(4057);let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{className:(0,n.cn)("rounded-xl border border-border bg-surface shadow-sm",a),ref:t,...s})});i.displayName="Card";let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{className:(0,n.cn)("flex flex-col gap-1 border-b border-border px-5 py-4",a),ref:t,...s})});l.displayName="CardHeader";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("h3",{className:(0,n.cn)("font-display text-lg font-semibold tracking-tight text-foreground",a),ref:t,...s})});d.displayName="CardTitle";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("p",{className:(0,n.cn)("text-sm text-steel-600",a),ref:t,...s})});c.displayName="CardDescription";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{className:(0,n.cn)("px-5 py-4",a),ref:t,...s})});o.displayName="CardContent"},4448:function(e,t,a){"use strict";a.d(t,{$F:function(){return o},AW:function(){return u},Xi:function(){return m},h_:function(){return c}});var r=a(7573),s=a(7653),n=a(9002),i=a(2966),l=a(7354),d=a(4057);let c=n.fC,o=n.xz;n.ZA,n.Uv,n.Tr,n.Ee,s.forwardRef((e,t)=>{let{className:a,inset:s,children:l,...c}=e;return(0,r.jsxs)(n.fF,{className:(0,d.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-steel-100 data-[state=open]:bg-steel-100",s&&"pl-8",a),ref:t,...c,children:[l,(0,r.jsx)(i.Z,{className:"ml-auto h-4 w-4"})]})}).displayName=n.fF.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.tu,{className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border border-border bg-surface p-1 text-foreground shadow-md data-[state=open]:animate-fade-in",a),ref:t,...s})}).displayName=n.tu.displayName;let u=s.forwardRef((e,t)=>{let{className:a,sideOffset:s=4,...i}=e;return(0,r.jsx)(n.Uv,{children:(0,r.jsx)(n.VY,{className:(0,d.cn)("z-50 min-w-[10rem] overflow-hidden rounded-md border border-border bg-surface p-1 text-foreground shadow-md data-[state=open]:animate-fade-in",a),ref:t,sideOffset:s,...i})})});u.displayName=n.VY.displayName;let m=s.forwardRef((e,t)=>{let{className:a,inset:s,...i}=e;return(0,r.jsx)(n.ck,{className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-steel-100 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",a),ref:t,...i})});m.displayName=n.ck.displayName,s.forwardRef((e,t)=>{let{className:a,children:s,checked:i,...c}=e;return(0,r.jsxs)(n.oC,{checked:i,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-steel-100 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),ref:t,...c,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(n.wU,{children:(0,r.jsx)(l.Z,{className:"h-4 w-4"})})}),s]})}).displayName=n.oC.displayName,s.forwardRef((e,t)=>{let{className:a,children:s,...i}=e;return(0,r.jsxs)(n.Rk,{className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-steel-100 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),ref:t,...i,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(n.wU,{children:(0,r.jsx)(l.Z,{className:"h-4 w-4"})})}),s]})}).displayName=n.Rk.displayName,s.forwardRef((e,t)=>{let{className:a,inset:s,...i}=e;return(0,r.jsx)(n.__,{className:(0,d.cn)("px-2 py-1.5 text-xs font-semibold text-steel-600",s&&"pl-8",a),ref:t,...i})}).displayName=n.__.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.Z0,{className:(0,d.cn)("-mx-1 my-1 h-px bg-border",a),ref:t,...s})}).displayName=n.Z0.displayName},8962:function(e,t,a){"use strict";a.d(t,{I:function(){return i}});var r=a(7573),s=a(7653),n=a(4057);let i=s.forwardRef((e,t)=>{var a;let{className:s,label:i,description:l,error:d,id:c,...o}=e,u=null!==(a=null!=c?c:o.name)&&void 0!==a?a:"input-field",m=d?"".concat(u,"-error"):l?"".concat(u,"-description"):void 0;return(0,r.jsxs)("div",{className:"grid gap-2",children:[i?(0,r.jsx)("label",{className:"text-sm font-medium text-foreground",htmlFor:u,children:i}):null,(0,r.jsx)("input",{"aria-describedby":m,"aria-invalid":!!d,className:(0,n.cn)("h-10 w-full rounded-md border border-border bg-surface px-3 text-sm text-foreground shadow-sm outline-none transition-colors placeholder:text-steel-500 focus-visible:border-ring focus-visible:ring-2 focus-visible:ring-ring/20 disabled:cursor-not-allowed disabled:opacity-50",d&&"border-destructive focus-visible:border-destructive focus-visible:ring-destructive/20",s),id:u,ref:t,...o}),l&&!d?(0,r.jsx)("p",{className:"text-xs text-steel-600",id:"".concat(u,"-description"),children:l}):null,d?(0,r.jsx)("p",{className:"text-xs text-destructive",id:"".concat(u,"-error"),role:"alert",children:d}):null]})});i.displayName="Input"},3753:function(e,t,a){"use strict";a.d(t,{SP:function(){return c},dr:function(){return d},mQ:function(){return l},nU:function(){return o}});var r=a(7573),s=a(7653),n=a(4132),i=a(4057);let l=n.fC,d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.aV,{className:(0,i.cn)("inline-flex h-10 items-center rounded-md bg-steel-100 p-1 text-steel-600",a),ref:t,...s})});d.displayName=n.aV.displayName;let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.xz,{className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-surface data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),ref:t,...s})});c.displayName=n.xz.displayName;let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.VY,{className:(0,i.cn)("mt-4 ring-offset-surface focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",a),ref:t,...s})});o.displayName=n.VY.displayName},4057:function(e,t,a){"use strict";a.d(t,{cn:function(){return n}});var r=a(607),s=a(5579);let n=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.m6)((0,r.W)(t))}}},function(e){e.O(0,[619,258,154,449,293,528,744],function(){return e(e.s=7539)}),_N_E=e.O()}]);